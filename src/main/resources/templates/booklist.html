<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/springsecurity6">
<h1>Hello <span sec:authentication="name"></span>!</h1>
<table class="table table-striped">
  <tr>
   <th>Title</th>
   <th>Author</th>
   <th>Year</th>
   <th>ISBN</th>
   <th>Price</th>
  </tr>
     <tr th:each = "book : ${books}">
       <td th:text="${book.title}"></td>
       <td th:text="${book.author}"></td>
       <td th:text="${book.publicationYear}"></td>
       <td th:text="${book.isbn}"></td>
       <td th:text="${book.price}"></td>
       <td th:text="${book.category.name}"></td>
       <td>
        <a sec:authorize="hasAuthority('ADMIN')" th:href="@{/delete/{isbn}(isbn=${book.isbn})}">
          Delete
        </a>
        <a th:href="@{/edit/{isbn}(isbn=${book.isbn})}">Edit</a>
       </td>
     </tr>
     <a href="/add" class="btn btn-primary">Add Book</a>
</table>
<form th:action="@{/logout}" method="post">
  <input type="submit" value="Sign Out"/>
</form>